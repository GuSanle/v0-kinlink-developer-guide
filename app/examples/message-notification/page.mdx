import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { CodeBlock } from "@/components/code-block";
import Link from "next/link";
import { ArrowLeft } from "lucide-react";
import { Button } from "@/components/ui/button";

<div className="container max-w-4xl py-6 lg:py-10 mdx-content">
  <div className="flex items-center gap-4 mb-8">
    <Link href="/examples" className="flex items-center">
      <Button variant="outline" size="icon" className="h-10 w-10 flex items-center justify-center">
        <ArrowLeft className="h-4 w-4" />
      </Button>
    </Link>
    <h1 className="text-3xl font-bold tracking-tight m-0 p-0 leading-[1.2] flex items-center">æ¶ˆæ¯æç¤ºæ¼”ç¤ºç¤ºä¾‹</h1>
  </div>

  <div className="space-y-8 px-8">
    <div>
      <h2>æ¶ˆæ¯æç¤ºç³»ç»Ÿæ¦‚è§ˆ</h2>
      
      > å…¨é¢çš„ç”¨æˆ·åé¦ˆæ¶ˆæ¯ç³»ç»Ÿï¼Œå®ç°å¤šç±»å‹ã€å¤šåœºæ™¯çš„ä¿¡æ¯æç¤ºåŠŸèƒ½

      æ­¤ç¤ºä¾‹æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨**kinlink API**å®ç°**å„ç§ç±»å‹çš„æ¶ˆæ¯æç¤º**åŠŸèƒ½ã€‚é€šè¿‡**æˆåŠŸæç¤º**ã€**é”™è¯¯è­¦å‘Š**ã€**ä¿¡æ¯é€šçŸ¥**å’Œ**è­¦å‘Šæ¶ˆæ¯**ï¼Œä¸ºç”¨æˆ·æä¾›æ¸…æ™°çš„æ“ä½œåé¦ˆå’ŒçŠ¶æ€æŒ‡ç¤ºã€‚

      ### æ¶ˆæ¯æç¤ºæ ¸å¿ƒåŠŸèƒ½
      - âœ… **æˆåŠŸæ¶ˆæ¯**ï¼šæ“ä½œæˆåŠŸæ—¶çš„ç¡®è®¤åé¦ˆ
      - âŒ **é”™è¯¯æ¶ˆæ¯**ï¼šé”™è¯¯æƒ…å†µçš„æ˜ç¡®æç¤ºå’Œè§£å†³å»ºè®®
      - â„¹ï¸ **ä¿¡æ¯æ¶ˆæ¯**ï¼šä¸€èˆ¬æ€§ä¿¡æ¯å’Œæ“ä½œå¼•å¯¼
      - âš ï¸ **è­¦å‘Šæ¶ˆæ¯**ï¼šé‡è¦æé†’å’Œæ³¨æ„äº‹é¡¹
      - â±ï¸ **è‡ªå®šä¹‰æŒç»­æ—¶é—´**ï¼šæ ¹æ®æ¶ˆæ¯é‡è¦æ€§è°ƒæ•´æ˜¾ç¤ºæ—¶é•¿
      - ğŸ¨ **è§†è§‰åé¦ˆ**ï¼šä¸åŒç±»å‹æ¶ˆæ¯çš„è§†è§‰åŒºåˆ†
    </div>

    <div>
      <h2>å…³é”®åŠŸèƒ½</h2>
      <ul>
        <li>æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯æç¤º</li>
        <li>æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯æç¤º</li>
        <li>æ˜¾ç¤ºä¿¡æ¯æ¶ˆæ¯æç¤º</li>
        <li>æ˜¾ç¤ºè­¦å‘Šæ¶ˆæ¯æç¤º</li>
        <li>æ§åˆ¶æ¶ˆæ¯æ˜¾ç¤ºæŒç»­æ—¶é—´</li>
      </ul>
    </div>

    <div>
      <h2>ä»£ç ç¤ºä¾‹</h2>
      <div className="-ml-8">
        <Tabs defaultValue="javascript">
          <TabsList className="ml-8">
            <TabsTrigger value="javascript">JavaScript</TabsTrigger>
          </TabsList>
          <TabsContent value="javascript" className="mt-4">
            <CodeBlock 
              code={`/**
 * ç¤ºä¾‹10: æ¶ˆæ¯æç¤ºæ¼”ç¤º
 * åŠŸèƒ½ï¼šæ¼”ç¤ºå„ç§ç±»å‹çš„æ¶ˆæ¯æç¤ºåŠŸèƒ½
 */
(function () {
  kinlink.events.on(kinlink.FormEvents.FORM_LOADED, () => {
    try {
      // åˆ›å»ºæ¶ˆæ¯æç¤ºæ¼”ç¤ºé¢æ¿
      const messagePanel = document.createElement('div');
      messagePanel.style.margin = '10px 0';
      messagePanel.style.padding = '20px';
      messagePanel.style.backgroundColor = '#f8f9fa';
      messagePanel.style.border = '1px solid #dee2e6';
      messagePanel.style.borderRadius = '8px';
      messagePanel.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';

      // é¢æ¿æ ‡é¢˜
      const panelTitle = document.createElement('h3');
      panelTitle.textContent = 'æ¶ˆæ¯æç¤ºæ¼”ç¤ºé¢æ¿';
      panelTitle.style.margin = '0 0 15px 0';
      panelTitle.style.color = '#2c3e50';
      panelTitle.style.fontSize = '18px';
      panelTitle.style.fontWeight = 'bold';

      // æŒ‰é’®å®¹å™¨
      const buttonContainer = document.createElement('div');
      buttonContainer.style.display = 'grid';
      buttonContainer.style.gridTemplateColumns = 'repeat(auto-fit, minmax(200px, 1fr))';
      buttonContainer.style.gap = '10px';
      buttonContainer.style.marginBottom = '15px';

      // é€šç”¨æŒ‰é’®æ ·å¼
      const buttonStyle = {
        padding: '10px 15px',
        border: 'none',
        borderRadius: '6px',
        cursor: 'pointer',
        fontSize: '14px',
        fontWeight: '500',
        color: 'white',
        transition: 'all 0.2s ease',
      };

      // æˆåŠŸæ¶ˆæ¯æŒ‰é’®
      const successBtn = document.createElement('button');
      successBtn.textContent = 'âœ… æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯';
      Object.assign(successBtn.style, buttonStyle, {
        backgroundColor: '#27ae60',
      });
      successBtn.addEventListener('click', () => {
        kinlink.formApi.showMessage(
          'success',
          'æ“ä½œæˆåŠŸå®Œæˆï¼æ•°æ®å·²ä¿å­˜ã€‚',
          4
        );
      });

      // é”™è¯¯æ¶ˆæ¯æŒ‰é’®
      const errorBtn = document.createElement('button');
      errorBtn.textContent = 'âŒ æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯';
      Object.assign(errorBtn.style, buttonStyle, {
        backgroundColor: '#e74c3c',
      });
      errorBtn.addEventListener('click', () => {
        kinlink.formApi.showMessage(
          'error',
          'æ“ä½œå¤±è´¥ï¼šè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥å¹¶é‡è¯•ã€‚',
          5
        );
      });

      // ä¿¡æ¯æ¶ˆæ¯æŒ‰é’®
      const infoBtn = document.createElement('button');
      infoBtn.textContent = 'â„¹ï¸ æ˜¾ç¤ºä¿¡æ¯æ¶ˆæ¯';
      Object.assign(infoBtn.style, buttonStyle, {
        backgroundColor: '#3498db',
      });
      infoBtn.addEventListener('click', () => {
        kinlink.formApi.showMessage(
          'info',
          'æ¸©é¦¨æç¤ºï¼šå»ºè®®åœ¨ç½‘ç»œç¨³å®šçš„ç¯å¢ƒä¸‹æ“ä½œã€‚',
          3
        );
      });

      // è­¦å‘Šæ¶ˆæ¯æŒ‰é’®
      const warningBtn = document.createElement('button');
      warningBtn.textContent = 'âš ï¸ æ˜¾ç¤ºè­¦å‘Šæ¶ˆæ¯';
      Object.assign(warningBtn.style, buttonStyle, {
        backgroundColor: '#f39c12',
      });
      warningBtn.addEventListener('click', () => {
        kinlink.formApi.showMessage(
          'warning',
          'æ³¨æ„ï¼šæ­¤æ“ä½œå°†å½±å“ç°æœ‰æ•°æ®ï¼Œè¯·è°¨æ…æ“ä½œã€‚',
          6
        );
      });

      // ç»¼åˆæ¼”ç¤ºæŒ‰é’®
      const demoBtn = document.createElement('button');
      demoBtn.textContent = 'ğŸ­ ç»¼åˆæ¼”ç¤º';
      Object.assign(demoBtn.style, buttonStyle, {
        backgroundColor: '#9b59b6',
      });
      demoBtn.addEventListener('click', () => {
        // ä¾æ¬¡æ˜¾ç¤ºä¸åŒç±»å‹çš„æ¶ˆæ¯
        setTimeout(() => {
          kinlink.formApi.showMessage('info', 'å¼€å§‹å¤„ç†æ‚¨çš„è¯·æ±‚...', 2);
        }, 0);
        
        setTimeout(() => {
          kinlink.formApi.showMessage('warning', 'æ­£åœ¨éªŒè¯æ•°æ®ï¼Œè¯·ç¨å€™...', 2);
        }, 2500);
        
        setTimeout(() => {
          kinlink.formApi.showMessage('success', 'æ•°æ®éªŒè¯é€šè¿‡ï¼Œå¤„ç†å®Œæˆï¼', 3);
        }, 5000);
      });

      // æ·»åŠ æŒ‰é’®åˆ°å®¹å™¨
      buttonContainer.appendChild(successBtn);
      buttonContainer.appendChild(errorBtn);
      buttonContainer.appendChild(infoBtn);
      buttonContainer.appendChild(warningBtn);
      buttonContainer.appendChild(demoBtn);

      // ä½¿ç”¨è¯´æ˜
      const instructions = document.createElement('div');
      instructions.innerHTML = \`
        <div style="background: #e8f4fd; padding: 12px; border-radius: 6px; border-left: 4px solid #3498db;">
          <strong>ä½¿ç”¨è¯´æ˜ï¼š</strong><br>
          â€¢ ç‚¹å‡»ä¸åŒæŒ‰é’®å¯ä»¥çœ‹åˆ°å„ç§ç±»å‹çš„æ¶ˆæ¯æç¤º<br>
          â€¢ æ¯ç§æ¶ˆæ¯ç±»å‹éƒ½æœ‰å¯¹åº”çš„é¢œè‰²å’Œå›¾æ ‡<br>
          â€¢ æ¶ˆæ¯ä¼šåœ¨æŒ‡å®šæ—¶é—´åè‡ªåŠ¨æ¶ˆå¤±<br>
          â€¢ ç»¼åˆæ¼”ç¤ºå±•ç¤ºäº†æ¶ˆæ¯çš„æ—¶åºæ§åˆ¶
        </div>
      \`;

      // ç»„è£…é¢æ¿
      messagePanel.appendChild(panelTitle);
      messagePanel.appendChild(buttonContainer);
      messagePanel.appendChild(instructions);

      // æ·»åŠ é¢æ¿åˆ°è¡¨å•
      const formElement = document.querySelector('.ant-form') || document.body;
      formElement.insertBefore(messagePanel, formElement.firstChild);

    } catch (error) {
      console.error('æ¶ˆæ¯æç¤ºæ¼”ç¤ºåˆå§‹åŒ–å¤±è´¥:', error);
    }
  });
})();`} 
              language="javascript" 
            />
          </TabsContent>
        </Tabs>
      </div>
    </div>

    <div>
      <h2>ä½¿ç”¨è¯´æ˜</h2>
      <div>
        è¦ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œåªéœ€å°†ä»£ç å¤åˆ¶åˆ°æ‚¨çš„kinlinkè‡ªå®šä¹‰JavaScriptä¸­ã€‚æ‚¨å¯ä»¥åœ¨è¡¨å•çš„ä»»ä½•åœ°æ–¹è°ƒç”¨æ¶ˆæ¯æç¤ºåŠŸèƒ½ï¼Œä¸ºç”¨æˆ·æä¾›åŠæ—¶çš„æ“ä½œåé¦ˆã€‚
      </div>
      <div>
        å®Œæ•´ä»£ç è¯·ä¸‹è½½æŸ¥çœ‹ï¼š
        <a
          href="/samplesCodes/10-æ¶ˆæ¯æç¤ºæ¼”ç¤º.js"
          className="text-primary hover:underline ml-1"
          download="10-æ¶ˆæ¯æç¤ºæ¼”ç¤º.js"
        >
          10-æ¶ˆæ¯æç¤ºæ¼”ç¤º.js
        </a>
      </div>
      <div className="p-4 border rounded-md bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-700">
        <h3 className="font-semibold text-yellow-800 dark:text-yellow-200">æ³¨æ„äº‹é¡¹</h3>
        <div className="text-yellow-800 dark:text-yellow-300">
          æ¶ˆæ¯æŒç»­æ—¶é—´ä»¥ç§’ä¸ºå•ä½ã€‚å»ºè®®æˆåŠŸæ¶ˆæ¯3-4ç§’ï¼Œé”™è¯¯æ¶ˆæ¯5-6ç§’ï¼Œé‡è¦è­¦å‘Šæ¶ˆæ¯6-8ç§’ï¼Œä»¥ç¡®ä¿ç”¨æˆ·æœ‰è¶³å¤Ÿæ—¶é—´é˜…è¯»ã€‚
        </div>
      </div>
    </div>

    <div>
      <h2>APIå‚è€ƒ</h2>
      <div>æ­¤ç¤ºä¾‹ä½¿ç”¨äº†ä»¥ä¸‹kinlink APIï¼š</div>
      <ul>
        <li>
          <code>kinlink.events.on(eventName, callback)</code> -
          æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨
        </li>
        <li>
          <code>kinlink.FormEvents.FORM_LOADED</code> - è¡¨å•åŠ è½½å®Œæˆäº‹ä»¶
        </li>
        <li>
          <code>kinlink.formApi.showMessage('success', message, duration)</code> -
          æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
        </li>
        <li>
          <code>kinlink.formApi.showMessage('error', message, duration)</code> -
          æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
        </li>
        <li>
          <code>kinlink.formApi.showMessage('info', message, duration)</code> -
          æ˜¾ç¤ºä¿¡æ¯æ¶ˆæ¯
        </li>
        <li>
          <code>kinlink.formApi.showMessage('warning', message, duration)</code> -
          æ˜¾ç¤ºè­¦å‘Šæ¶ˆæ¯
        </li>
      </ul>
    </div>
  </div>
</div> 